# **Snowballer Manual**
### June Choe (jchoe001@gmail.com)
#### April 2020 (v2.0)

---

# **Introduction**

---

## **About**

---

_Snowballer_ is an [R shiny app](https://shiny.rstudio.com/) that runs **snowball searches** (detailed in the next section) on a list of papers and fetches information about them on [Microsoft Academic Graph (MAG)](https://www.microsoft.com/en-us/research/project/academic/), an open-source online scholarly database. This was designed primarily for meta-analysis research, with the aim of expanding the scale and scope of systemic literature reviews. 

The app runs on two components: a locally stored portion of the downloadable MAG database made available by [the Open Academic Society](https://www.openacademic.ai/) to find connections between papers using their IDs (offline), and queries to online databses including Microsoft Academic, Scopus, and Crossref to fetch information about those papers, such as DOI and abstract (online). 

Papers are searched using the IDs that they are internally assigned in the MAG database. A paper's ID can be manually found by looking it up on Microsoft Academic's [online searchable database](https://academic.microsoft.com/home). If the paper exists in the databse, its ID can be found in the URL of the page for that paper. For example, the paper at the url `http://academic.microsoft.com/paper/2170716495/...` has the ID `2170716495`. Alternatively, if you have a long list of papers, you can upload information about them and get their IDs automatically using the app (explained more below).


---

## **Design Philosophy**

---

_Snowballer_ implements "snowball search", which is a particular method of literature search where the citations and references from a starting set of core papers are followed and repeated for the newly found papers to accumulate relevant primary data sources - a process much like rolling a snowball (Wohlin, 2014). Ideally, the search is ran to exhaustion until no new relevant papers are found, which indicates that the search has culminated in a comprehensive coverage of the target literature. The main goal of _Snowballer_ is to make this idealization practical for meta-analysis research.


---

## **Setup**

---

To send queries to the online database, you need Microsoft's Academic Knowledge API key. The API key permits you to 10,000 transactions a day. You can [sign up for an API key here.](https://msr-apis.portal.azure-api.net/signup) After signing in, you can [find your API key here](https://msr-apis.portal.azure-api.net/) under the KEYS tab.

If you have a running list of articles that you have already found so far in the project, organized them into a file named `Screened.csv`, with 11 columns:

- `Date` : the time that the snowball search was conducted
- `Searched_from` : the paper(s) that were passed in as input for the snowball search
- `ID` : paper's ID
- `Title` : paper's title
- `Year` : year of publication
- `Authors` : list of authors, separated by commas
- `Journal` : journal that the paper was published in
- `Pub_type` : type of publication 
- `Citations` : number of citations
- `References` : number of references
- `Abstract` : paper's abstract

The first two fields: `Date` and `Searched_from` are metadata about the search that Snowballer appends to the downloadble output result. The rest are information that Snowballer returns for each paper it finds from the search.

&nbsp;

--- 

# **Layout**

---

## **Sidebar Panel**

---


&nbsp;

### A. Microsoft Academic API Key

A Microsoft's Academic Knowledge API key is **required** to send queries to the online MAG database. The API key permits you to 10,000 transactions a day. You can [sign up for an API key here.](https://msr-apis.portal.azure-api.net/signup) After signing in, you can [find your API key here](https://msr-apis.portal.azure-api.net/) under the KEYS tab.

### B. Elsevier API Key

An Elsevier API key is required to send queries to the Scopus database. The API key permits you to 20,000 transactions a week. You can [sign up for an API key here.](https://dev.elsevier.com).

While Elsevier API has a lower rate limit, it is only used as backup for abstract fetching when Microsoft Academic nor Crossref (which doesn't require an API key) has it. This also means that an Elsevier API key is **not required if you don't need abstracts.**

### C. Upload Running List of Papers with Microsoft Academic IDs

This functionality implements the philosophy that snowball searches should build upon previous searches, and that a record of the search process should be maintained and updated with every new search.

There is **no need to upload anything here for the first iteration of the snowball search**. However, for every iteration after the first, you should upload the results from the previous interation(s) here before you run the next search. This is encouraged not only because it provides an organized record of the search process, but also because the app uses this information to avoid returning duplicates from previous searches in the results.

### D. Send to OUTPUT DATA tab

Checking this box will send the file that is uploaded above to the Output Data tab. The data table display on this tab includes some useful functionalities (explained more in detail later) and provides an alternative to Excel for exploring search results without re-running it. 

### E. Upload Papers to Search on Microsoft Academic

If you have a list of papers that you want to snowball search, you need to get their Microsoft Academic IDs first. This basically "converts" information about a paper into MAG IDs.

The app accepts a `.csv` file with one of the following column specifications:

- `Title` and `DOI` (it's not required to have values for both columns but you do need to specify them)
- `PMID` (PubMed ID)
- `PMCID` (PubMed Central ID)

### F. Download Paper IDs

If you have uploaded information about the papers you want to get the Microsoft Academic IDs for, you can click this button to download the IDs, along with some other information about the papers. This button actually also runs conversion search before making the result available for download, so it might take a while for the actual download to start.

The output is a `.csv` file with 8 columns:

- `ID` : paper's ID in MAG
- `Title` : paper's title
- `Year` : year of publication
- `Authors` : list of authors
- `Journal` : journal of publication
- `Pub_type` : type of publication
- `DOI`: Digital Object Identifier
- `Citations` : number of citations
- `References` : number of references

## G. Paper IDs to Snowball:

This part is pretty self explanatory. Just enter in the ID(s) of the paper(s) you want to do a snowball search. If you want to search multiple papers, just separate the IDs by comma and space like `2104332169, 1988500810`.

If you have uploaded your running list of papers in the above section, _Snowballer_ will automatically remove any duplicate searches. For example, if you have already snowball searched `1964141474` and that search is recorded in the running list of papers you uploaded, then entering `1964141474` into the input box will not update the search input.

---

## **Summary Tab**

---

The **Summary** tab automatically updates with information about citation connections from the paper IDs provided in the input box. Note that this DOES NOT run the search itself. Rather, it gives a quick preview of various search metrics. The number shown next to `New papers found` is the number of papers you should expect in the output when you press the search button(s). Do not let the number exceed 10,000 as that goes over the daily request limit. Keep it below 3,000 for best results.

Here, a paper with the ID _1964141474_ is snowballed.

![](manual_images/summary_tab_1.png)

Here's another example, this time with 3 IDs: _1964141474_, _2104332169_, _1988500810_.

In this example, _1988500810_ has already been snowballed and recorded in the `screened.csv` file that is read in.

![](manual_images/summary_tab_2.png)

---

## **Input/Output Tab**

---

After you click the **Run Search** button, you can proceed to the **Input Data** and the **Output Data** tabs to retrieve information about the papers you passed in and, more importantly, the result of the snowball search.

Below displays the **Input Data** tab after running a snowball search on _1964141474_. This is useful for double checking that the paper ID you ran the search on is indeed the paper you meant to snowball.

![](manual_images/input_tab.png)

The results in the **Output Data** has the same format, except with more papers.

The `References` and `Citations` columns in the output data gives you a rough sense of each paper's _impact_ on the project, if you later decide to include it in the analysis and snowball it. You might want to give papers that have high citation/reference counts more scrutiny in the screening process.


---

## **Search Statistics Tab**

---

After running the search, you can also look at some basic statistics about the search.

The **Search Statistics** tab includes a comprehensive skim summary and visualizes the distribution of years, authors, and journals of the papers returned in the **Output Data** tab.

The graphs are simple, but the skim summary takes a bit to process. You mainly want to focus on the number of observations, the number of missing abstracts, and the number of journal articles (`Pub_type` == 1), boxed in the image below in that order. Here's the full key for `Pub_type` for reference - (0:Unknown, 1:Journal article, 2:Patent, 3:Conference paper, 4:Book chapter, 5:Book, 6:Book reference entry, 7:Dataset, 8:Repository)

Here's an example from our earlier snowball search on Norton et al. 2015 (ID: _1964141474_).

![](manual_images/summary_data.png)

**NOTE**: Sometimes, the number of papers that are searched from the summary tab don't match the number of papers that are returned. That's is the case in this example, where we expected to get 138 papers but ended up with 137. This is a problem with the Microsoft Academic database assigning a paper an ID, but not storing any information about that paper that could be fetched.

&nbsp;

--- 

# **Examples**

---

### **Walkthrough 1: Snowball a Single Paper**

--- 


---

### **Walkthrough 2: Snowball Multiple Papers**

---




--- 

### **Walkthrough 3: Snowball Iteratively with a Running List**

---


&nbsp;

---

## Citation

---

(XXXX)

---

## Acknowledgements

---

Development of this app was made possible with support from the [Language, Education, and Reading Neuroscience (LEARN) Lab](https://learnlab.northwestern.edu/) at Northwestern University. A lot of the app's functionalities depend on many packages published by the [rOpenSci](https://ropensci.org/) team.

---

## Copyright & Licensing Notice

_Snowballer is copyrighted and owned by June Choe. It can be freely used for educational and research purposes by non-profit institutions and US government agencies only. Other organizations are allowed to use Snowballer  only for evaluation purposes, and any further uses will require prior approval. The software may not be sold or redistributed without prior approval. One may make copies of the software for their use provided that the copies, are not sold or distributed, are used under the same terms and conditions._

_As unestablished research software, this code is provided on an "as is'' basis without warranty of any kind, either expressed or implied. The downloading, or executing any part of this software constitutes an implicit agreement to these terms. These terms and conditions are subject to change at any time without prior notice._

_Snowballer uses information from [Microsoft Academic Graph](https://www.microsoft.com/en-us/research/project/microsoft-academic-graph/) which is made available under the [ODC Attribution License](https://opendatacommons.org/licenses/by/1.0/)._